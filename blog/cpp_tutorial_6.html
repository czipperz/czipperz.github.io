<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../style.css" />
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sunburst"></script>
    <title> Czipperz's Blog - C++ galore </title>
  </head>
  <body>
    <div id="page">
      <div id="top">
        <a href="index.html"><h1 id="title"> Czipperz's Blog - C++ galore </h1></a>
      </div>
      <div id="content">
        <div class="article" id="main_article">
          <h2><a href="cpp_tutorial_6.html">
              C++ Tutorial 6 - References. </a></h2>
          <h4 class="date">12/19/2016</h4>
          <p>
            Here we will go over references.
          </p>
          <pre class="prettyprint">
#include &lt;cstdio&gt;
#include &lt;vector&gt;

using namespace std;

int main() {
    vector&lt;int&gt; list;
    list.push_back(13);

    /* Visual Studio: */ getchar();
    return 0;
}
          </pre>
          <p>
            We have declared the
            variable <code class="prettyprint">list</code> as
            a <code class="prettyprint">vector</code>
            of <code class="prettyprint">int</code>s.  Then we add the
            element <code class="prettyprint">13</code>.
          </p>
          <br />
          <p>
            What is the value of list and list2 after the following code?
          </p>
          <pre class="prettyprint">
    vector&lt;int&gt; list2 = list;
    list2.push_back(2);
          </pre>
          <p>
            Here we declare <code class="prettyprint">list2</code> and
            initialize it as a copy
            of <code class="prettyprint">list</code>.  The result is
            that <code class="prettyprint">list</code> has the
            element <code class="prettyprint">13</code>,
            while <code class="prettyprint">list2</code> has the
            elements <code class="prettyprint">13</code>
            and <code class="prettyprint">2</code>.
          </p>
          <br />
          <p>
            When we declare a variable, we declare that it is unique
            and owns its contents.
            Therefore, <code class="prettyprint">list2</code> starts
            out as a unique copy
            of <code class="prettyprint">list</code> and then is
            modified to be different.
          </p>
          <br />
          <p>
            If we simply turn <code class="prettyprint">list2</code>
            into an reference, it will instead become an alias of
            our <code class="prettyprint">list</code>:
          </p>
          <pre class="prettyprint">
    vector&lt;int&gt;&amp; list2 = list;
    list2.push_back(2);
          </pre>
          <p>
            A reference is signified with an ampersand
            (<code class="prettyprint">&amp;</code>).  All usages of
            this reference will effect the actual variable.  Now both
            lists have the
            elements <code class="prettyprint">13</code>
            and <code class="prettyprint">2</code>.
          </p>
          <br />
          <p>
            What does vector contain at the end
            of <code class="prettyprint">test</code>?
          </p>
          <pre class="prettyprint">
void push_back_32(vector&lt;int&gt; vector) {
    vector.push_back(32);
}

void test() {
    vector&lt;int&gt; vector;
    push_back_32(vector);
}
          </pre>
          <p>
            Since <code class="prettyprint">push_back_32</code> takes
            its parameter by value, as a variable and not a reference,
            it makes a copy of the vector,
            inserts <code class="prettyprint">32</code> into the copy,
            and then throws the copy away.  The vector
            in <code class="prettyprint">test</code> is unaffected by
            this.
          </p>
          <br />
          <p>
            In order to correctly
            insert <code class="prettyprint">32</code> into the
            caller's vector, we must take our parameter by reference:
          </p>
          <pre class="prettyprint">
void push_back_32(vector&lt;int&gt;&amp; vector) {
    vector.push_back(32);
}
          </pre>
        </div>
      </div>
    </div>
  </body>
</html>
